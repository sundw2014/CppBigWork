#include "Zobrist.h"
const uint32 ZobristTable[256][3] = {
    {0x6B8B4567,0x327B23C6,0x643C9869},{0x66334873,0x74B0DC51,0x19495CFF},{0x2AE8944A,0x625558EC,0x238E1F29},{0x46E87CCD,0x3D1B58BA,0x507ED7AB},{0x2EB141F2,0x41B71EFB,0x79E2A9E3},{0x7545E146,0x515F007C,0x5BD062C2},{0x12200854,0x4DB127F8,0x216231B},{0x1F16E9E8,0x1190CDE7,0x66EF438D},
    {0x140E0F76,0x3352255A,0x109CF92E},{0xDED7263,0x7FDCC233,0x1BEFD79F},{0x41A7C4C9,0x6B68079A,0x4E6AFB66},{0x25E45D32,0x519B500D,0x431BD7B7},{0x3F2DBA31,0x7C83E458,0x257130A3},{0x62BBD95A,0x436C6125,0x628C895D},{0x333AB105,0x721DA317,0x2443A858},{0x2D1D5AE9,0x6763845E,0x75A2A8D4},
    {0x8EDBDAB,0x79838CB2,0x4353D0CD},{0xB03E0C6,0x189A769B,0x54E49EB4},{0x71F32454,0x2CA88611,0x836C40E},{0x2901D82,0x3A95F874,0x8138641},{0x1E7FF521,0x7C3DBD3D,0x737B8DDC},{0x6CEAF087,0x22221A70,0x4516DDE9},{0x3006C83E,0x614FD4A1,0x419AC241},{0x5577F8E1,0x440BADFC,0x5072367},
    {0x3804823E,0x77465F01,0x7724C67E},{0x5C482A97,0x2463B9EA,0x5E884ADC},{0x51EAD36B,0x2D517796,0x580BD78F},{0x153EA438,0x3855585C,0x70A64E2A},{0x6A2342EC,0x2A487CB0,0x1D4ED43B},{0x725A06FB,0x2CD89A32,0x57E4CCAF},{0x7A6D8D3C,0x4B588F54,0x542289EC},{0x6DE91B18,0x38437FDB,0x7644A45C},
    {0x32FFF902,0x684A481A,0x579478FE},{0x749ABB43,0x3DC240FB,0x1BA026FA},{0x79A1DEAA,0x75C6C33A,0x12E685FB},{0x70C6A529,0x520EEDD1,0x374A3FE6},{0x4F4EF005,0x23F9C13C,0x649BB77C},{0x275AC794,0x39386575,0x1CF10FD8},{0x180115BE,0x235BA861,0x47398C89},{0x354FE9F9,0x15B5AF5C,0x741226BB},
    {0xD34B6A8,0x10233C99,0x3F6AB60F},{0x61574095,0x7E0C57B1,0x77AE35EB},{0x579BE4F1,0x310C50B3,0x5FF87E05},{0x2F305DEF,0x25A70BF7,0x1DBABF00},{0x4AD084E9,0x1F48EAA1,0x1381823A},{0x5DB70AE5,0x100F8FCA,0x6590700B},{0x15014ACB,0x5F5E7FD0,0x98A3148},{0x799D0247,0x6B94764,0x42C296BD},
    {0x168E121F,0x1EBA5D23,0x661E3F1E},{0x5DC79EA8,0x540A471C,0x7BD3EE7B},{0x51D9C564,0x613EFDC5,0xBF72B14},{0x11447B73,0x42963E5A,0xA0382C5},{0x8F2B15E,0x1A32234B,0x3B0FD379},{0x68EB2F63,0x4962813B,0x60B6DF70},{0x6A5EE64,0x14330624,0x7FFFCA11},{0x1A27709E,0x71EA1109,0x100F59DC},
    {0x7FB7E0AA,0x6EB5BD4,0x6F6DD9AC},{0x94211F2,0x885E1B,0x76272110},{0x4C04A8AF,0x1716703B,0x14E17E33},{0x3222E7CD,0x74DE0EE3,0x68EBC550},{0x2DF6D648,0x46B7D447,0x4A2AC315},{0x39EE015C,0x57FC4FBB,0xCC1016F},{0x43F18422,0x60EF0119,0x26F324BA},{0x7F01579B,0x49DA307D,0x7055A5F5},
    {0x5FB8370B,0x50801EE1,0x488AC1A},{0x5FB8011C,0x6AA78F7F,0x7672BD23},{0x6FC75AF8,0x6A5F7029,0x7D5E18F8},{0x5F3534A4,0x73A1821B,0x7DE67713},{0x555C55B5,0x3FA62ACA,0x14FCE74E},{0x6A3DD3E8,0x71C91298,0x9DAF632},{0x53299938,0x1FBFE8E0,0x5092CA79},{0x1D545C4D,0x59ADEA3D,0x288F1A34},
    {0x2A155DBC,0x1D9F6E5F,0x97E1B4E},{0x51088277,0x1CA0C5FA,0x53584BCB},{0x415E286C,0x7C58FD05,0x23D86AAC},{0x45E6D486,0x5C10FE21,0xE7FFA2B},{0x3C5991AA,0x4BD8591A,0x78DF6A55},{0x39B7AAA2,0x2B0D8DBE,0x6C80EC70},{0x379E21B5,0x69E373,0x2C27173B},{0x4C9B0904,0x6AA7B75C,0x1DF029D3},
    {0x5675FF36,0x3DD15094,0x3DB012B3},{0x2708C9AF,0x5B25ACE2,0x175DFCF0},{0x4F97E3E4,0x53B0A9E,0x34FD6B4F},{0x5915FF32,0x56438D15,0x519E3149},{0x2C6E4AFD,0x17A1B582,0x4DF72E4E},{0x5046B5A9,0x5D888A08,0x2A082C70},{0x5EC6AFD4,0x19E21BB2,0x75E0858A},{0x57A61A29,0x5399C654,0x20EE1348},
    {0x4427069A,0xB37E80A,0x2157F6BC},{0x704E1DD5,0x57D2F10E,0xBFFAE18},{0xE3E47A8,0x2E48F044,0x49D0FEAC},{0x4BEE5A5B,0x5551B9F3,0x24F6AB8E},{0x634C574C,0x24E99DD7,0x2A31B62D},{0x1849C29B,0x7DFF9D09,0x754342},{0x69E7F3E5,0x2A6DE806,0x1816F8C4},{0x37DF2233,0x7AB49DAF,0x759F82CD},
    {0x61E74EA3,0x597B4D84,0xF819E7F},{0x57C7D42D,0x312167AD,0x631B64D4},{0x78B5E776,0x75486E47,0x6E534CDE},{0x1A0DDE32,0x65968C1C,0x46263DEC},{0x260D8C4A,0x73D4D3C4,0x746F2E30},{0x6FDE8AF6,0x3FC32E20,0x49C0E823},{0x14D53685,0x230F856C,0x6EAA85FB},{0x3F06ECB2,0x3B594807,0x6CAA2304},
    {0x3F7C2FF4,0x25413BEC,0x17180B0B},{0x579328B9,0x5D205E20,0x11CCA8BA},{0x4D32AB86,0x3F07ACC3,0x6B47F63E},{0x5CB44A05,0x16CF80F1,0x1C695DEC},{0x3FCFAED9,0xF856867,0x11B1CC33},{0x2E22FBB7,0x29934699,0x77485850},{0x744939A3,0x4FA0D2E3,0x6B1D2C14},{0x68B867D3,0x3F7F5DD9,0x2AE05A34},
    {0x32794FF7,0x5454945E,0x4DEFDFA0},{0x2123D5F2,0x135B8110,0x94927A8},{0xDCDF8F6,0x52D7B105,0x2E8A6394},{0x24E60401,0x2A6AD9BE,0xBAAC1B4},{0x36B2ACBC,0x779D8544,0x4AB26E78},{0x21FAA2FA,0x5451CF49,0x6181EF69},{0x3E6400E6,0x14217E23,0x710757D0},{0x5015CD1A,0x424479DA,0x1A9A9E69},
    {0x475E256A,0x368DB37E,0x6A3B714C},{0x327B517E,0x1F461B51,0x29BACF25},{0x5D5BABB3,0x51BF6B48,0x7E0F6384},{0x2B4B8B53,0x72E3413A,0x116AE494},{0x3494B2FB,0xB13A31,0x64429599},{0x631F1690,0x25973E32,0xEAD6F57},{0x6EC9D844,0x5C49EAEE,0x64AF49B},{0x397C46BC,0x7E448DE9,0x5A9CC3E5},
    {0x1AFE3625,0x3CA88ECF,0x6EBE4208},{0xC058DF5,0xCBE5BE9,0x3102BBE2},{0x26A02C5E,0x541C8153,0x67906F60},{0x10DB9DAA,0x697D2D2,0x6D68AB2},{0x3A966CD0,0x63F37E85,0x5895F5FA},{0x38A5D054,0xF3F09D8,0x4B793735},{0x4A10B4E8,0x43D3BCD4,0x4C2A7166},{0x2E534A82,0x26F2D364,0x71C1AF98},
    {0x3D00B9D9,0x15BCABA8,0x4E0B9A87},{0x434BAE75,0x4F38F265,0x4C502870},{0x1DE8725A,0x6A37288A,0x8F8B73F},{0xCA6B462,0x763CB680,0x15B71329},{0x3DA97044,0x1CDCE2DE,0x69D3947C},{0x2539DFA5,0x2DB88089,0x706B674E},{0x2C106A57,0x684EED59,0x545EE5D3},{0x4A66051,0x20F4BDAD,0x639DEFAC},
    {0x501F9786,0x6B057295,0x2771AC80},{0x1C4A08EC,0x1958BD17,0x4E647FE4},{0xE0BB885,0x565976F1,0x64212B8C},{0x5C17530C,0x19A52566,0x335A1DF1},{0x28677B7C,0x378D97C0,0x1D91467C},{0x316032BB,0x44344C22,0x13CDFCFC},{0x471745E4,0x1DDBC66,0x30AADFDA},{0x30EADA61,0x27179C0B,0x5E636063},
    {0x215641AF,0x53280662,0x46B24DBC},{0x75B52783,0x57CE66B4,0x67A70B69},{0x5953172F,0x27EDFE3A,0x52AC7DFF},{0xC4C3AF,0x44380727,0x6C053B16},{0x4F294393,0x5243BFAC,0x425EB207},{0x334A6F1F,0x2E5B12B8,0x5C03D76D},{0x66A48D11,0x56C28E34,0x13916F2D},{0x435D38D,0x822C0EF,0x57C5BB4F},
    {0x1803D089,0x4F3A06D4,0x59A377B6},{0x48AEB063,0x24E135,0xBB13C1},{0x271210C7,0x217B22E4,0x53E31A24},{0x6DC45E83,0x17304A67,0x2BB180D8},{0x556B69ED,0x70836196,0x539F7F12},{0x2817E7EC,0x71482545,0x17D78639},{0x141D2302,0x407168D8,0x6A1B45E5},{0x567BD50A,0x73BBD7F8,0x1876589D},
    {0x327FAC77,0x5A606509,0x6F38E6D1},{0x46111BA5,0x5E963896,0x775BA7C1},{0x1DD6D6F4,0x769A091F,0x4695AE95},{0x777A4EAA,0x3F48B982,0x46BA8FCA},{0x7835626C,0x665ACA49,0x6835B2AE},{0x4C187C90,0x541F28CD,0x7F65FD16},{0x77C9FD68,0x298A92BA,0x6FE95EAC},{0x4B697C7A,0x51A27AA6,0x613183F2},
    {0x634102B4,0x65BF9DA8,0x21A2ECCA},{0x4D5C4899,0x3C3B72B2,0x155EC4C2},{0x65D2A137,0x6EBB1F2A,0x6FBF29CB},{0x550B8808,0x34CC3ACF,0x4E556261},{0x4C672FC9,0x52A311C3,0x44EF6B80},{0x12FCDE5E,0x4A1D606E,0x4382503},{0x59B76E28,0x4252C2DA,0x6A92EF4C},{0x41ED20D7,0xE6B3F6A,0x3EB21819},
    {0x41531DED,0x6353CD2,0x683CAAD3},{0x313C7C99,0x519EB94C,0x39DF2579},{0x126E008B,0x34DFBC00,0x1F9EC322},{0x3410ED56,0x23C049A,0x5BDA35D4},{0x496FB218,0x680EA5D1,0x4A9554FE},{0x392EDBE4,0x3D1A2DD9,0x7F618FCD},{0x7843E45,0x9815DA3,0x5204A191},{0x4C73A9C6,0x1C7E3C01,0x1C2201FF},
    {0x50ABCEC9,0x7635AA2A,0x5E74C4D9},{0x3B3EBE15,0x3822CB01,0x6CE00443},{0x79F0D62F,0x7975E8EE,0x73154115},{0x622D8102,0x2AB26587,0x44B3FA61},{0x1C0CA67C,0x3D206613,0x7993B662},{0x3BAB699E,0x71315369,0x7BCFBAFC},{0x17859F72,0x3AA10581,0x63DE60CD},{0x621AF471,0x73CFE165,0x20F88EA6},
    {0x617C843E,0x7B541FAB,0x2A79EC49},{0x338125CF,0x47C7C971,0x46F8284B},{0x4FA327CE,0x1873983A,0x3D2DD275},{0x2E17ECA7,0x53B2564F,0x75509D76},{0x1AF7F0EA,0x4DA32C7E,0x6EC68664},{0xE0D31FF,0x2FD0AD81,0x1978EBEB},{0x52C12C61,0x4BDD53FD,0x569951FE},{0x4C54E2C3,0x788BD9B,0x47CAA567},
    {0x48249DBF,0x1F0E5D0D,0x26BAAE9},{0x2C02FE8C,0x129517E,0x763B8C4E},{0x4CFB8D32,0x62A5D5BD,0x718FABF9},{0x7775797C,0x1626FB8C,0x3957756A},{0x3E6DA1C7,0x65CA235B,0x51CB0DA4},{0x7B9B743C,0x13E21002,0x257D63F4},{0x70EC11B2,0x2EDA00ED,0x73209072},{0x5FB29816,0x3CE732EC,0x22F13DF3},
    {0x792B8401,0xFA85F4D,0x6ECE91F0},{0x4FC4D600,0x5BFD4210,0x76574F8B},{0x178F7B67,0x2421DFCF,0x1565AC99},{0x19FB2650,0x5024DE5B,0x168EFE17},{0x1036B29F,0x1D206B8E,0x7934D3D4},{0x1C65E98,0x1495E50A,0xF5BCF61},{0x3B1DD403,0x530386D1,0x7525F2BC},{0xCE8E1A7,0x4E9EFB0D,0x90802BE},
    {0x3266459B,0x3F8B0CBF,0x37E203AB},{0x2586D60E,0x1F3DA4D5,0x74C93698},{0x48781401,0x186928D6,0x47195E5},{0x3746A5F2,0x682DFED6,0x606ED7F6},{0x2D9DF57D,0x7FBD7A3E,0x490B7C5},{0x4303A216,0x19B8A08E,0x54B59621},{0x5992A02E,0x29EF532D,0x71D601AF},{0x52C77402,0x2BB5B1C6,0x66BE6B9},
    {0x62234363,0x66D385C9,0x596F6D8A},{0x5749361F,0x73BC6770,0x280E6897},{0x605138DE,0x2622AD0C,0x67997556},{0x18333C89,0x4BA9831A,0x6D71A2B},{0xCFC7321,0x1421971B,0x1F404301},{0x116E0907,0x4B683D0D,0x76E41D8},{0x71DCE0FD,0x7906328B,0x72BBC16},{0x766D98C2,0x3C09D4A1,0x20E45CA4},
    {0x4B232EE3,0x159C74CF,0x4AD3AFD2},{0x3CF93092,0x6863E8D2,0x76896198},{0x4365174B,0x4A872C35,0x5D5CE761},{0x1CD484D5,0x21D06255,0x51194ED1},{0x44E2ED6C,0x2219B33,0x773BFBDD},{0x2C7C62C2,0x1A54D7BC,0x42E57EF7},{0x33537CED,0x27514ADE,0x57071613},{0x5293BFEF,0x38BF53E5,0x226F5320},
    {0x5A0201C7,0x2A9C34E2,0x1B7585AB},{0x612DBDDD,0x2109CDA4,0x577F5A4D},{0x2121A81,0x6C2CFC88,0x6D1BCF1C},{0x4CE5CA53,0x29262D1A,0x557FB7EE},{0x436F2BEB,0x6C8B4466,0x2006E424},{0x20CC134C,0x95FC93B,0x41D74679},{0x71E5621E,0x4E42B6A8,0x43F8E1AC},{0x69215DFB,0x7ABF196A,0x5E4DB968}
};

uint32 ZobristInit(){
    uint32 hash=0;
    for(uint8 i=0;i<256;i++)
        hash ^= ZobristTable[i][0];
    return hash;
}

//hash的计算,传入旧hash值，改变的位置，该位置的新值,旧值(0,1,2)
uint32 ZobristHash(uint32 oldHash,uint8 pos , uint8 newState , uint8 oldState){
    //根据增量算出hash
    return (oldHash ^ (uint32)ZobristTable[pos][newState] ^ (uint32)ZobristTable[pos][oldState]);
}
